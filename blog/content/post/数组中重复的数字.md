---
title: 数组中重复的数字
date: 2023-01-08T18:06:57+08:00
draft: false
categories: ["算法"]
tags: ["算法"]
---

# 数组中重复的数字
#算法
#算法/剑指offer

```
找出数组中重复的数字。

在一个长度为 n 的数组 nums 里的所有数字都在 0～n-1 的范围内。数组中某些数字是重复的，但不知道有几个数字重复了，也不知道每个数字重复了几次。请找出数组中任意一个重复的数字。

示例 1：

输入：
[2, 3, 1, 0, 2, 5, 3]
输出：2 或 3 
```

题目要求是找出任意一个重复的数字
题目有一个额外的限制：
所有数字都在0~n-1的范围中，也就是说长度为5的数组，其中元素的值域是{0,1,2,3,4}，也就是说如果将各个数字归位，每个数字都只出现一次的话，数组索引与该索引下的值应该是一一对应。

如果数组中的值有重复，那么会出现某一索引下对应多个值，我们需要找出任意一个这样的值即可

我们首先遍历数组，每到遍历到一个元素，检查该元素的索引和值是否相等，相等说明这个位置已经对应上了，继续遍历下一个元素；
如果一个元素的索引值和值不相等，则将该位置的元素与其值为索引的元素交换，例如题目中的nums[0] =2，目前nums[0]不为0，则将其与nums[2]交换，现在nums[0] = 1，仍然不相等，继续与nums[1]交换，nums[0] = 3，仍然不相等，继续与nums[3]交换，目前nums[0] = 0，该位置已经归位了。

按这样的思路一直整理，可以得到[0,1,2,3,2,5,3]，索引3及其以前的元素都能归位，到索引4时，发现其值为2，而nums[i]也已经是2了，所以说明已经出现重复了，就不用交换了。

```go
func findRepeatNumber(nums []int) int {
    for i := 0; i < len(nums); i++ {
        for {
            curPosVal := nums[i]
            if curPosVal != i {
                if nums[curPosVal] != curPosVal {
                    nums[i], nums[curPosVal] = nums[curPosVal], nums[i]
                } else {
                    return curPosVal
                }
            } else {
                break
            }
        }
    }
    return -1
}
```