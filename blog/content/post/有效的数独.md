---
title: 有效的数独
date: 2023-01-08T18:06:57+08:00
draft: false
categories: ["算法"]
tags: ["算法"]
---

# 有效的数独
#算法/矩阵 

# 链接
[力扣](https://leetcode-cn.com/problems/valid-sudoku/)
# 题目
```
请你判断一个 9 x 9 的数独是否有效。只需要 根据以下规则 ，验证已经填入的数字是否有效即可。

数字 1-9 在每一行只能出现一次。
数字 1-9 在每一列只能出现一次。
数字 1-9 在每一个以粗实线分隔的 3x3 宫内只能出现一次。（请参考示例图）
 

注意：

一个有效的数独（部分已被填充）不一定是可解的。
只需要根据以上规则，验证已经填入的数字是否有效即可。
空白格用 '.' 表示。
```

# 思路
1. 记录每一行是否有重复：用一个二维数组，一维序号表示第x行，二维序号表示具体的数，value表示出现的次数
例如rows[0][3] = 1，表示第0行中，3出现了1次。如果出现的次数>1次，说明重复了
2. 记录每一列是否用重复，同行的记录方式
例如cols[1][4] = 1，表示第1列中，4出现了1次。如果出现的次数>1次，说明重复了
5. 记录每一个3*3的小方块是否有重复。在一个9*9的矩阵中，小方块数一共有9个。如果也以行列来表示的话，subs[i][j]，i表示小方块的横坐标，j表示小方块的纵坐标。小方块有三行三列，因此 0 <= i < 3；0 <= j < 3。
subs[1][2][3] = 1，表示第1行第2列小方块中，3出现了1次。
对于一个常规的格子，它所属的小方块坐标为i/3,j/3

# 答案
```go
func isValidSudoku(board [][]byte) bool {
    var rows, cols [9][9]int
    var subs [3][3][9]int
    for i := 0; i < 9; i++ {
        for j := 0; j < 9; j++ {
            if board[i][j] == '.' {
                continue
            }
            num := board[i][j] - '1'
            rows[i][num]++
            cols[j][num]++
            subs[i/3][j/3][num]++
            if rows[i][num] > 1 || cols[j][num] > 1 || subs[i/3][j/3][num] > 1 {
                return false
            }
        }
    }
    return true
}

```